
<h1>Add product</h1>
<form [formGroup]="productForm" (ngSubmit)="onSubmit()">

  <div class="form-group">
    <label>Title</label>
    <input type="text" formControlName="title" class="form-control">
  </div>
  <div class="alert alert-danger" *ngIf="productForm.controls['title'].errors && productForm.controls['title'].touched">
    <div *ngIf="productForm.controls['title'].hasError('required')">Title is required</div>
    <div *ngIf="productForm.controls['title'].hasError('minlength')">min length is 3</div>
  </div>

  <div class="form-group">
    <label>Description</label>
    <input type="text" formControlName="description" class="form-control">
  </div>
  <div class="alert alert-danger" *ngIf="productForm.controls['description'].errors && productForm.controls['description'].touched">
    <div *ngIf="productForm.controls['description'].hasError('required')">Description is required</div>
    <div *ngIf="productForm.controls['description'].hasError('minlength')">min length is 5</div>
  </div>

  <div class="form-group">
    <label>Price</label>
    <input type="number" formControlName="price" class="form-control">
  </div>
  <div class="alert alert-danger" *ngIf="productForm.controls['price'].errors && productForm.controls['price'].touched">
    <div *ngIf="productForm.controls['price'].hasError('required')">Price is required</div>
    <div *ngIf="productForm.controls['price'].getError('min')">Price must not be negative!</div>
  </div>

  <div class="form-group">
    <label>Quantity</label>
    <input type="number" formControlName="quantity" class="form-control">
  </div>
  <div class="alert alert-danger" *ngIf="productForm.controls['quantity'].errors && productForm.controls['quantity'].touched">
    <div *ngIf="productForm.controls['quantity'].hasError('required')">Quantity is required</div>
    <div *ngIf="productForm.controls['quantity'].getError('min')">Quantity must not be negative!</div>
  </div>

  <div class="form-group">
    <label>Category</label>
    <select formControlName="category" class="form-control">
      <optgroup label="GROCERY">
        <option value="Salts, spices and ready meals">Salts, spices and ready meals</option>
        <option value="Pasta, Couscous">Pasta, Couscous</option>
        <option value="Flours, rice and pulses">Flours, rice and pulses</option>
        <option value="Oils, vinegars, condiments and sauces">Oils, vinegars, condiments and sauces</option>
        <option value="Canned fish and meat">Canned fish and meat</option>
        <option value="Canned vegetables and tomatoes">Canned vegetables and tomatoes</option>
        <option value="Savory products and appetizers">Savory products and appetizers</option>
      </optgroup>
    </select>
  </div>
  <div class="alert alert-danger" *ngIf="productForm.controls['category'].errors && productForm.controls['category'].touched">
    <div *ngIf="productForm.controls['category'].hasError('required')">Category is required</div>
  </div>

  <div class="form-group">
    <label>Choose file</label>
    <input #imageInput
           type="file"
           accept="image/*"
           formControlName="url"
           class="form-control"
           (change)="processFile(imageInput)">
  </div>
  <div class="alert alert-danger" *ngIf="productForm.controls['url'].errors && productForm.controls['url'].touched">
    <div *ngIf="productForm.controls['url'].hasError('required')">Quantity is required</div>
  </div>

  <button type="submit" class="btn btn-success" [disabled]="productForm.invalid">Save</button>
  <button class="btn btn-warning" (click)="reset()">Reset</button>
  <button class="btn btn-info" [routerLink]="['../product-list']">Cancel</button>

</form>
